<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Local Storage Example</title>
</head>
<body>



<script>
    localStorage.clear();
    // Set data in local storage
    localStorage.setItem('names','rajkumar')
    localStorage.setItem('userid','2001')
    //retrieve data from local storage
    let name=localStorage.getItem('names')
    let id=localStorage.getItem('userid')
   

    console.log(`name:${name}`)
    console.log(`id:${id}`)

    
    //covert string to number

    let newid= Number(id)
    console.log(newid)

    //short syntax to get and set data

    localStorage.phonenumber='8925200246'  //set
    console.log(localStorage.phonenumber)  //get
    
    let val='names'
    localStorage.removeItem('phonenumber') // remove item
    localStorage.removeItem(val)

  // Clear all data from local storage
    localStorage.clear()
    console.log("all elements are deleted "+  localStorage.length)

    //store data as object in localstorage and retrieve it

    let firstobj ={
      'username': "raj",
      'password': '2001'
    }
    let first=JSON.stringify(firstobj)
    localStorage.setItem('details',first)
    let con=JSON.parse(localStorage.getItem('details'))
    console.log(con)
    console.log(con.username)


    //storing array in a local stroage and retrieve and then add some more data


    let array=[
      {'name':'raj','password':'2001'},
      {'name':'suresh','password':'2003'},
      {'name':'ram','password':'2007'}
    ]

    let newobj= JSON.stringify(array)
    localStorage.setItem('users',newobj)

    //display the detials
    let value= JSON.parse(localStorage.getItem('users'))
    for (let i=0;i<value.length;i++){
      console.log(value[i].name+'--'+value[i].password)
      }

    const news ={'name':"kumar", 'password':'2008'}

    array.push(news)
    let newarr= JSON.stringify(array)
    localStorage.setItem('users',newarr)
    //display the updated details
    let updatetype= JSON.parse(localStorage.getItem('users'))
    for (let j=0;j<updatetype.length;j++){
      console.log(updatetype[j].name+'--'+updatetype[j].password)
      }
    // single value search
    let search='raj'
    let bool=false
    for (let i of updatetype){
      if(search===i.name){
        console.log("available")
        let bool=true
      }

    }
    if(!bool) console.log("invalid")
    //multiple value search
    let search1=['raj','2001']
    for(let i=0;i<updatetype.length;i++){
      if(search1[0]==updatetype[i].name && search1[1]==updatetype[i].password){
        console.log("available")
      }
    }

    let key1='suresh', val1='2000'
    let bool1=false
    for (let i of updatetype){
      if(key1===i.name){
        i.password=val1
      }

    }
    console.log(updatetype)

    localStorage.setItem('values',JSON.stringify(updatetype))
    let values=JSON.parse(localStorage.getItem('values'))



    //changing the field active to 1 when match the creditials
    for (let i of values){
      i.active=0
    }

    localStorage.setItem('values',JSON.stringify(values))
    let values1=JSON.parse(localStorage.getItem('values'))
    for (let i of values1){
      if(key1===i.name){
        i.active=1
        }}
    console.log(values1)
    localStorage.setItem('newvalues',JSON.stringify(values1))
    let newvalues1=JSON.parse(localStorage.getItem('newvalues'))
    console.log(newvalues1)

 
</script>

</body>
</html>
